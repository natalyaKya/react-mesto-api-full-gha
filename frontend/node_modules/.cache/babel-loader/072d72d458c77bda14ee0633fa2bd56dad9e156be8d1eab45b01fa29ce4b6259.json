{"ast":null,"code":"import _classCallCheck from\"C:/Users/User/Desktop/dev/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/User/Desktop/dev/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Auth=/*#__PURE__*/function(){function Auth(options){_classCallCheck(this,Auth);this.options=options;this.baseUrl=this.options.baseUrl;this.headers=this.options.headers;}_createClass(Auth,[{key:\"_checkStatus\",value:function _checkStatus(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}},{key:\"register\",value:function register(_ref){var _this=this;var email=_ref.email,password=_ref.password;return fetch(\"\".concat(this.baseUrl,\"/signup\"),{method:\"POST\",headers:this.headers,body:JSON.stringify({email:email,password:password})}).then(function(res){return _this._checkStatus(res);});}},{key:\"authorization\",value:function authorization(_ref2){var _this2=this;var email=_ref2.email,password=_ref2.password;return fetch(\"\".concat(this.baseUrl,\"/signin\"),{method:\"POST\",headers:this.headers,body:JSON.stringify({email:email,password:password})}).then(function(res){return _this2._checkStatus(res);});}},{key:\"checkToken\",value:function checkToken(token){var _this3=this;return fetch(\"\".concat(this.baseUrl,\"/users/me\"),{method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)}}).then(function(res){return _this3._checkStatus(res);});}}]);return Auth;}();export var auth=new Auth({baseUrl:\"https://auth.nomoreparties.co\",headers:{\"Content-Type\":\"application/json\"}});","map":{"version":3,"names":["Auth","options","_classCallCheck","baseUrl","headers","_createClass","key","value","_checkStatus","res","ok","json","Promise","reject","concat","status","register","_ref","_this","email","password","fetch","method","body","JSON","stringify","then","authorization","_ref2","_this2","checkToken","token","_this3","Authorization","auth"],"sources":["C:/Users/User/Desktop/dev/react-mesto-api-full-gha/frontend/src/utils/auth.js"],"sourcesContent":["class Auth {\r\n  constructor(options) {\r\n    this.options = options;\r\n    this.baseUrl = this.options.baseUrl;\r\n    this.headers = this.options.headers;\r\n  }\r\n  _checkStatus(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  register({ email, password }) {\r\n    return fetch(`${this.baseUrl}/signup`, {\r\n      method: \"POST\",\r\n      headers: this.headers,\r\n      body: JSON.stringify({ email, password }),\r\n    }).then((res) => this._checkStatus(res));\r\n  }\r\n  authorization({ email, password }) {\r\n    return fetch(`${this.baseUrl}/signin`, {\r\n      method: \"POST\",\r\n      headers: this.headers,\r\n      body: JSON.stringify({ email, password }),\r\n    }).then((res) => this._checkStatus(res));\r\n  }\r\n  checkToken(token) {\r\n    return fetch(`${this.baseUrl}/users/me`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    }).then((res) => this._checkStatus(res));\r\n  }\r\n}\r\n\r\nexport const auth = new Auth({\r\n  baseUrl: \"https://auth.nomoreparties.co\",\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n"],"mappings":"mSAAM,CAAAA,IAAI,yBACR,SAAAA,KAAYC,OAAO,CAAE,CAAAC,eAAA,MAAAF,IAAA,EACnB,IAAI,CAACC,OAAO,CAAGA,OAAO,CACtB,IAAI,CAACE,OAAO,CAAG,IAAI,CAACF,OAAO,CAACE,OAAO,CACnC,IAAI,CAACC,OAAO,CAAG,IAAI,CAACH,OAAO,CAACG,OAAO,CACrC,CAACC,YAAA,CAAAL,IAAA,GAAAM,GAAA,gBAAAC,KAAA,CACD,SAAAC,aAAaC,GAAG,CAAE,CAChB,GAAIA,GAAG,CAACC,EAAE,CAAE,CACV,MAAO,CAAAD,GAAG,CAACE,IAAI,CAAC,CAAC,CACnB,CACA,MAAO,CAAAC,OAAO,CAACC,MAAM,0CAAAC,MAAA,CAAYL,GAAG,CAACM,MAAM,CAAE,CAAC,CAChD,CAAC,GAAAT,GAAA,YAAAC,KAAA,CAED,SAAAS,SAAAC,IAAA,CAA8B,KAAAC,KAAA,SAAnB,CAAAC,KAAK,CAAAF,IAAA,CAALE,KAAK,CAAEC,QAAQ,CAAAH,IAAA,CAARG,QAAQ,CACxB,MAAO,CAAAC,KAAK,IAAAP,MAAA,CAAI,IAAI,CAACX,OAAO,YAAW,CACrCmB,MAAM,CAAE,MAAM,CACdlB,OAAO,CAAE,IAAI,CAACA,OAAO,CACrBmB,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEN,KAAK,CAALA,KAAK,CAAEC,QAAQ,CAARA,QAAS,CAAC,CAC1C,CAAC,CAAC,CAACM,IAAI,CAAC,SAACjB,GAAG,QAAK,CAAAS,KAAI,CAACV,YAAY,CAACC,GAAG,CAAC,GAAC,CAC1C,CAAC,GAAAH,GAAA,iBAAAC,KAAA,CACD,SAAAoB,cAAAC,KAAA,CAAmC,KAAAC,MAAA,SAAnB,CAAAV,KAAK,CAAAS,KAAA,CAALT,KAAK,CAAEC,QAAQ,CAAAQ,KAAA,CAARR,QAAQ,CAC7B,MAAO,CAAAC,KAAK,IAAAP,MAAA,CAAI,IAAI,CAACX,OAAO,YAAW,CACrCmB,MAAM,CAAE,MAAM,CACdlB,OAAO,CAAE,IAAI,CAACA,OAAO,CACrBmB,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEN,KAAK,CAALA,KAAK,CAAEC,QAAQ,CAARA,QAAS,CAAC,CAC1C,CAAC,CAAC,CAACM,IAAI,CAAC,SAACjB,GAAG,QAAK,CAAAoB,MAAI,CAACrB,YAAY,CAACC,GAAG,CAAC,GAAC,CAC1C,CAAC,GAAAH,GAAA,cAAAC,KAAA,CACD,SAAAuB,WAAWC,KAAK,CAAE,KAAAC,MAAA,MAChB,MAAO,CAAAX,KAAK,IAAAP,MAAA,CAAI,IAAI,CAACX,OAAO,cAAa,CACvCmB,MAAM,CAAE,KAAK,CACblB,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClC6B,aAAa,WAAAnB,MAAA,CAAYiB,KAAK,CAChC,CACF,CAAC,CAAC,CAACL,IAAI,CAAC,SAACjB,GAAG,QAAK,CAAAuB,MAAI,CAACxB,YAAY,CAACC,GAAG,CAAC,GAAC,CAC1C,CAAC,WAAAT,IAAA,KAGH,MAAO,IAAM,CAAAkC,IAAI,CAAG,GAAI,CAAAlC,IAAI,CAAC,CAC3BG,OAAO,CAAE,+BAA+B,CACxCC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}